import type {
  Alert, AlertRule, EscalationPolicy, NotificationChannel, AlertTemplate, AlertAnalyticsData
} from '@/types/alerts';

export const mockAlerts: Alert[] = [
  {
    id: 'ALR-001',
    ruleId: 'RUL-001',
    ruleName: 'High Temperature',
    severity: 'critical',
    status: 'active',
    deviceId: 'DEV-101',
    deviceName: 'Furnace Temp Sensor',
    locationId: 'LOC-TAJ',
    locationName: 'TAJ – Sulfonation Unit',
    relatedKPI: 'Temperature',
    triggerCondition: 'temperature > 350°C for 5 min',
    startTime: '2026-02-12T08:23:00Z',
    duration: '2h 15m',
    assignedTo: 'Ali Hosseini',
    notes: [],
  },
  {
    id: 'ALR-002',
    ruleId: 'RUL-002',
    ruleName: 'Vibration Anomaly',
    severity: 'high',
    status: 'active',
    deviceId: 'DEV-205',
    deviceName: 'Compressor VIB-03',
    locationId: 'LOC-TAJ',
    locationName: 'TAJ – Sulfonation Unit',
    relatedKPI: 'Vibration',
    triggerCondition: 'vibration_rms > 12 mm/s',
    startTime: '2026-02-12T09:10:00Z',
    duration: '1h 28m',
    assignedTo: 'Reza Ahmadi',
    notes: [],
  },
  {
    id: 'ALR-003',
    ruleId: 'RUL-003',
    ruleName: 'Pump Offline',
    severity: 'high',
    status: 'acknowledged',
    deviceId: 'DEV-310',
    deviceName: 'Feed Pump P-101',
    locationId: 'LOC-PLB',
    locationName: 'Plant B – Processing',
    triggerCondition: 'device_status = offline > 2 min',
    startTime: '2026-02-12T07:45:00Z',
    duration: '2h 53m',
    assignedTo: 'Sara Mohammadi',
    acknowledgedBy: 'Sara Mohammadi',
    acknowledgedAt: '2026-02-12T07:52:00Z',
    notes: ['Maintenance team dispatched'],
  },
  {
    id: 'ALR-004',
    ruleId: 'RUL-004',
    ruleName: 'Pressure Drop',
    severity: 'medium',
    status: 'active',
    deviceId: 'DEV-412',
    deviceName: 'Pressure Transmitter PT-07',
    locationId: 'LOC-PLB',
    locationName: 'Plant B – Processing',
    relatedKPI: 'Pressure',
    triggerCondition: 'pressure < 2.5 bar',
    startTime: '2026-02-12T10:05:00Z',
    duration: '33m',
    notes: [],
  },
  {
    id: 'ALR-005',
    ruleId: 'RUL-005',
    ruleName: 'Gateway Heartbeat Lost',
    severity: 'critical',
    status: 'active',
    deviceId: 'GW-002',
    deviceName: 'Gateway Zone-B',
    locationId: 'LOC-PLB',
    locationName: 'Plant B – Processing',
    triggerCondition: 'heartbeat_timeout > 60s',
    startTime: '2026-02-12T10:30:00Z',
    duration: '8m',
    notes: [],
  },
  {
    id: 'ALR-006',
    ruleId: 'RUL-001',
    ruleName: 'High Temperature',
    severity: 'medium',
    status: 'resolved',
    deviceId: 'DEV-102',
    deviceName: 'Reactor Temp Sensor',
    locationId: 'LOC-TAJ',
    locationName: 'TAJ – Sulfonation Unit',
    relatedKPI: 'Temperature',
    triggerCondition: 'temperature > 300°C for 3 min',
    startTime: '2026-02-11T14:20:00Z',
    endTime: '2026-02-11T15:05:00Z',
    duration: '45m',
    resolvedBy: 'Ali Hosseini',
    resolvedAt: '2026-02-11T15:05:00Z',
    notes: ['Auto-resolved after cooling'],
  },
  {
    id: 'ALR-007',
    ruleId: 'RUL-006',
    ruleName: 'Energy Spike',
    severity: 'low',
    status: 'resolved',
    deviceId: 'DEV-501',
    deviceName: 'Power Meter PM-01',
    locationId: 'LOC-TAJ',
    locationName: 'TAJ – Sulfonation Unit',
    relatedKPI: 'Energy',
    triggerCondition: 'power_consumption change_rate > 20%/min',
    startTime: '2026-02-11T11:00:00Z',
    endTime: '2026-02-11T11:15:00Z',
    duration: '15m',
    resolvedBy: 'System',
    resolvedAt: '2026-02-11T11:15:00Z',
    notes: [],
  },
  {
    id: 'ALR-008',
    ruleId: 'RUL-007',
    ruleName: 'Multi-Sensor Failure',
    severity: 'critical',
    status: 'resolved',
    deviceId: 'DEV-601',
    deviceName: 'Zone A Sensors',
    locationId: 'LOC-TAJ',
    locationName: 'TAJ – Sulfonation Unit',
    triggerCondition: '3+ devices offline simultaneously',
    startTime: '2026-02-10T22:10:00Z',
    endTime: '2026-02-10T23:45:00Z',
    duration: '1h 35m',
    assignedTo: 'Ali Hosseini',
    resolvedBy: 'Ali Hosseini',
    resolvedAt: '2026-02-10T23:45:00Z',
    notes: ['Power outage in Zone A', 'UPS failed'],
  },
];

export const mockAlertRules: AlertRule[] = [
  {
    id: 'RUL-001',
    name: 'High Temperature Alert',
    description: 'Triggers when temperature exceeds safe threshold for sustained period',
    ruleType: 'time_window',
    severity: 'critical',
    enabled: true,
    deviceIds: ['DEV-101', 'DEV-102'],
    deviceType: 'temperature_sensor',
    locationId: 'LOC-TAJ',
    conditionGroups: [{
      id: 'CG-1',
      logic: 'AND',
      conditions: [{
        id: 'C-1',
        telemetryTag: 'temperature',
        operator: '>',
        value: 350,
        timeWindowMinutes: 5,
      }],
    }],
    escalationPolicyId: 'ESC-001',
    notificationChannelIds: ['NC-001', 'NC-002'],
    assignedTeam: 'Operations',
    createdAt: '2026-01-15T10:00:00Z',
    updatedAt: '2026-02-10T08:00:00Z',
    triggerCount: 12,
  },
  {
    id: 'RUL-002',
    name: 'Vibration Anomaly',
    description: 'AI-detected vibration pattern anomaly on rotating equipment',
    ruleType: 'anomaly',
    severity: 'high',
    enabled: true,
    deviceIds: ['DEV-205'],
    deviceType: 'vibration_sensor',
    locationId: 'LOC-TAJ',
    conditionGroups: [{
      id: 'CG-2',
      logic: 'AND',
      conditions: [{
        id: 'C-2',
        telemetryTag: 'vibration_rms',
        operator: '>',
        value: 12,
      }],
    }],
    notificationChannelIds: ['NC-001'],
    assignedTeam: 'Maintenance',
    createdAt: '2026-01-20T12:00:00Z',
    updatedAt: '2026-02-08T14:00:00Z',
    triggerCount: 5,
  },
  {
    id: 'RUL-003',
    name: 'Device Offline',
    description: 'Triggers when a device goes offline for more than 2 minutes',
    ruleType: 'device_state',
    severity: 'high',
    enabled: true,
    deviceIds: [],
    locationId: 'LOC-PLB',
    conditionGroups: [{
      id: 'CG-3',
      logic: 'AND',
      conditions: [{
        id: 'C-3',
        telemetryTag: 'device_status',
        operator: '=',
        value: 0,
        timeWindowMinutes: 2,
      }],
    }],
    escalationPolicyId: 'ESC-001',
    notificationChannelIds: ['NC-001', 'NC-003'],
    createdAt: '2026-01-18T09:00:00Z',
    updatedAt: '2026-02-05T10:00:00Z',
    triggerCount: 8,
  },
  {
    id: 'RUL-004',
    name: 'Low Pressure Warning',
    description: 'Alerts when line pressure drops below minimum',
    ruleType: 'threshold',
    severity: 'medium',
    enabled: true,
    deviceIds: ['DEV-412'],
    conditionGroups: [{
      id: 'CG-4',
      logic: 'AND',
      conditions: [{
        id: 'C-4',
        telemetryTag: 'pressure',
        operator: '<',
        value: 2.5,
      }],
    }],
    notificationChannelIds: ['NC-001'],
    createdAt: '2026-02-01T11:00:00Z',
    updatedAt: '2026-02-01T11:00:00Z',
    triggerCount: 3,
  },
  {
    id: 'RUL-005',
    name: 'Gateway Heartbeat',
    description: 'Monitors gateway connectivity via heartbeat',
    ruleType: 'heartbeat',
    severity: 'critical',
    enabled: true,
    deviceIds: ['GW-001', 'GW-002'],
    gatewayId: 'GW-002',
    conditionGroups: [{
      id: 'CG-5',
      logic: 'AND',
      conditions: [{
        id: 'C-5',
        telemetryTag: 'heartbeat',
        operator: '>',
        value: 60,
      }],
    }],
    escalationPolicyId: 'ESC-002',
    notificationChannelIds: ['NC-001', 'NC-002', 'NC-003'],
    createdAt: '2026-01-10T08:00:00Z',
    updatedAt: '2026-02-12T10:00:00Z',
    triggerCount: 2,
  },
  {
    id: 'RUL-007',
    name: 'Cross-Device Failure',
    description: 'Triggers when 3+ devices in same zone fail simultaneously',
    ruleType: 'cross_device',
    severity: 'critical',
    enabled: true,
    deviceIds: [],
    locationId: 'LOC-TAJ',
    conditionGroups: [{
      id: 'CG-7',
      logic: 'AND',
      conditions: [{
        id: 'C-7',
        telemetryTag: 'device_status',
        operator: '=',
        value: 0,
      }],
    }],
    escalationPolicyId: 'ESC-002',
    notificationChannelIds: ['NC-001', 'NC-002', 'NC-003', 'NC-004'],
    createdAt: '2026-01-25T16:00:00Z',
    updatedAt: '2026-02-10T22:00:00Z',
    triggerCount: 1,
  },
];

export const mockEscalationPolicies: EscalationPolicy[] = [
  {
    id: 'ESC-001',
    name: 'Standard Escalation',
    description: 'Default 3-level escalation for operational alerts',
    levels: [
      { level: 1, role: 'Operator', delayMinutes: 0, notificationChannelIds: ['NC-001'] },
      { level: 2, role: 'Supervisor', delayMinutes: 15, notificationChannelIds: ['NC-001', 'NC-002'] },
      { level: 3, role: 'Admin', delayMinutes: 30, notificationChannelIds: ['NC-001', 'NC-002', 'NC-003'] },
    ],
    slaMinutes: 60,
    enabled: true,
    createdAt: '2026-01-10T08:00:00Z',
  },
  {
    id: 'ESC-002',
    name: 'Critical Escalation',
    description: 'Immediate escalation for critical infrastructure alerts',
    levels: [
      { level: 1, role: 'Operator', delayMinutes: 0, notificationChannelIds: ['NC-001', 'NC-002'] },
      { level: 2, role: 'Supervisor', delayMinutes: 5, notificationChannelIds: ['NC-001', 'NC-002', 'NC-003'] },
      { level: 3, role: 'Admin', delayMinutes: 10, notificationChannelIds: ['NC-001', 'NC-002', 'NC-003'] },
      { level: 4, role: 'External API', delayMinutes: 15, notificationChannelIds: ['NC-004'] },
    ],
    slaMinutes: 30,
    enabled: true,
    createdAt: '2026-01-10T08:00:00Z',
  },
];

export const mockNotificationChannels: NotificationChannel[] = [
  { id: 'NC-001', name: 'In-App Notifications', type: 'in_app', config: {}, enabled: true, createdAt: '2026-01-01T00:00:00Z' },
  { id: 'NC-002', name: 'Email – Operations Team', type: 'email', config: { to: 'ops@company.com' }, enabled: true, createdAt: '2026-01-01T00:00:00Z' },
  { id: 'NC-003', name: 'SMS – On-Call', type: 'sms', config: { to: '+989123456789' }, enabled: true, createdAt: '2026-01-05T00:00:00Z' },
  { id: 'NC-004', name: 'Webhook – PagerDuty', type: 'webhook', config: { url: 'https://events.pagerduty.com/v2/enqueue' }, enabled: true, createdAt: '2026-01-10T00:00:00Z' },
  { id: 'NC-005', name: 'MQTT Republish', type: 'mqtt', config: { topic: 'alerts/republish' }, enabled: false, createdAt: '2026-01-15T00:00:00Z' },
];

export const mockAlertTemplates: AlertTemplate[] = [
  {
    id: 'ATPL-001',
    name: 'Temperature Threshold',
    description: 'Basic temperature threshold alert for industrial sensors',
    ruleType: 'threshold',
    severity: 'high',
    conditionGroups: [{
      id: 'TG-1',
      logic: 'AND',
      conditions: [{ id: 'TC-1', telemetryTag: 'temperature', operator: '>', value: 300 }],
    }],
    category: 'Temperature',
    createdAt: '2026-01-01T00:00:00Z',
  },
  {
    id: 'ATPL-002',
    name: 'Vibration Monitoring',
    description: 'Vibration threshold for rotating equipment health',
    ruleType: 'threshold',
    severity: 'medium',
    conditionGroups: [{
      id: 'TG-2',
      logic: 'AND',
      conditions: [{ id: 'TC-2', telemetryTag: 'vibration_rms', operator: '>', value: 10 }],
    }],
    category: 'Vibration',
    createdAt: '2026-01-01T00:00:00Z',
  },
  {
    id: 'ATPL-003',
    name: 'Device Heartbeat',
    description: 'Monitor device online status via heartbeat timeout',
    ruleType: 'heartbeat',
    severity: 'critical',
    conditionGroups: [{
      id: 'TG-3',
      logic: 'AND',
      conditions: [{ id: 'TC-3', telemetryTag: 'heartbeat', operator: '>', value: 60 }],
    }],
    category: 'Connectivity',
    createdAt: '2026-01-01T00:00:00Z',
  },
  {
    id: 'ATPL-004',
    name: 'Pressure Drop',
    description: 'Low pressure alert for pipeline and process monitoring',
    ruleType: 'threshold',
    severity: 'medium',
    conditionGroups: [{
      id: 'TG-4',
      logic: 'AND',
      conditions: [{ id: 'TC-4', telemetryTag: 'pressure', operator: '<', value: 2.0 }],
    }],
    category: 'Pressure',
    createdAt: '2026-01-01T00:00:00Z',
  },
];

export const mockAlertAnalytics: AlertAnalyticsData = {
  alertsBySeverity: [
    { severity: 'critical', count: 15 },
    { severity: 'high', count: 28 },
    { severity: 'medium', count: 42 },
    { severity: 'low', count: 18 },
  ],
  alertsByLocation: [
    { location: 'TAJ – Sulfonation Unit', count: 52 },
    { location: 'Plant B – Processing', count: 35 },
    { location: 'Plant C – Storage', count: 16 },
  ],
  alertsOverTime: [
    { date: '02/06', critical: 2, high: 4, medium: 6, low: 3 },
    { date: '02/07', critical: 1, high: 5, medium: 8, low: 2 },
    { date: '02/08', critical: 3, high: 3, medium: 5, low: 4 },
    { date: '02/09', critical: 0, high: 6, medium: 7, low: 1 },
    { date: '02/10', critical: 4, high: 2, medium: 4, low: 3 },
    { date: '02/11', critical: 2, high: 5, medium: 6, low: 2 },
    { date: '02/12', critical: 3, high: 3, medium: 6, low: 3 },
  ],
  mtta: 4.2,
  mttr: 38.5,
  topDevices: [
    { device: 'Furnace Temp Sensor', count: 12 },
    { device: 'Compressor VIB-03', count: 8 },
    { device: 'Feed Pump P-101', count: 7 },
    { device: 'Gateway Zone-B', count: 5 },
    { device: 'Pressure Transmitter PT-07', count: 4 },
  ],
  topConditions: [
    { condition: 'temperature > threshold', count: 22 },
    { condition: 'vibration_rms > threshold', count: 15 },
    { condition: 'device_status = offline', count: 12 },
    { condition: 'heartbeat timeout', count: 8 },
    { condition: 'pressure < threshold', count: 6 },
  ],
};
